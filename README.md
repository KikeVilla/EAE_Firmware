# EAE_Firmware
Advanced PID control and state machine for Inverter/DC-DC cooling loop - Epiroc EAE Challenge
EAE Firmware: Cooling Control SystemCandidate: Jorge Enrique Villa Chacon Date: 03-02-2026 1. OverviewThis repository contains the advanced firmware logic for the Epiroc EAE Engineering Challenge. The system manages a WP32 Water Pump and a VA97 Fan using an IFM CR0403 PLC to maintain optimal operating temperatures for a traction inverter and DC-DC converter.+32. Technical Features (Section 7.1)PID Control Loop: Implements a Proportional-Integral-Derivative controller to maintain a thermal setpoint (default 65°C), optimizing energy consumption for the VA97 Fan and WP32 Pump.+1Finite State Machine (FSM): The logic transitions between STANDBY, NORMAL, HIGH_TEMP, and ALARM states to ensure predictable hardware behavior.CANBUS Simulation: Simulates J1939-style data transmission (ID: 0x18FECA01), outputting system status to the PowerView 450 display.Safety Interlocks: Real-time monitoring of the LMC100 Level Switch to trigger an emergency shutdown (ALARM state) during low-coolant events to prevent pump cavitation.+23. Hardware MappingComponentFunctionPLC Pin (based on Schematic)H-WTMSTemperature SensorIN0 LMC100Liquid Level SwitchIN4 F-SeriesIgnition SwitchIN5WP32 PumpSpeed Control (PWM)OUT3 VA97 FanSpeed Control (PWM)OUT5 4. Design JustificationsBased on the technical analysis of the original schematic:Component Sequence: The filter is placed before the pump to protect mechanical components from debris.Thermal Efficiency: The DC-DC converter is placed before the inverter in the series loop as it produces less heat.+1Reservoir Design: Recommended a closed reservoir system to raise the boiling point and prevent oxidation.5. How to RunStandard SimulationRun the firmware with a default 65°C setpoint:Bashpython firmware.py
Run with a custom setpoint (e.g., 75°C):Bashpython firmware.py 75
Unit Testing (Requirement 7) To verify safety protocols and state machine transitions:Bashpython firmware.py test
